{% extends 'layout/base_minimal.html' %}

{% block report %}
<div class="source">
    <h3>FMS</h3>
</div>

{% if fms %}

<p class="mb-1">Fecha de la medición: {{fms.date}}</p>

<form action="{% url 'users:report_fms' user.id %}" method="get">
    <div class="row" data-html2canvas-ignore="true">
        {% csrf_token %}
        <div class="col-sm-4">
            <div class="input-group input-group-outline mb-3 is-upper">
                <select id="fms_id" name="fms_id" id="" class="form-control mr-2">
                    <option value="">Selecciona una fecha</option>
                    {% for fms_item in fms_list %}
                        {% ifchanged %}
                        <option value="{{fms_item.id}}">{{fms_item.date}}</option>
                        {% endifchanged %}
                    {% endfor %}
                </select>
                <button class="btn" style="top:-5px;">Filtrar</button>
            </div>
        </div>
    </div>
</form>

<div class="table-responsive table-striped p-0">
    <table class="table align-items-center mb-3">
        <thead class="table-dark">
            <tr>
                <th><strong>Prueba</strong></th>
                <th><strong>Puntuación Parcial</strong></th>
                <th><strong>Puntuación Total</strong></th>
                <th><strong>Observaciones</strong></th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Sentadilla con brazos estirados</td>
                <td>{{ fms.squat_score }}</td>
                <td>{{ fms.squat_score }}</td>
                <td>{{ fms.squat_observations }}</td>
            </tr>
            <tr>
                <td>Paso de valla</td>
                <td>
                    <p><strong class="badge badge-primary text-white">I</strong> {{ fms.fence_step_l_score }}</p>
                    <p><strong class="badge badge-primary text-white">D</strong> {{ fms.fence_step_r_score }}</p>
                </td>
                <td>{{ fms.fence_total }}</td>
                <td>{{ fms.fence_step_observations }}</td>
            </tr>
            <tr>
                <td>Estocada</td>
                <td>
                    <p><strong class="badge badge-primary text-white">I</strong> {{ fms.lunge_l_score }}</p>
                    <p><strong class="badge badge-primary text-white">D</strong> {{ fms.lunge_r_score }}</p>
                </td>
                <td>{{ fms.lunge_total }}</td>
                <td>{{ fms.lunge_observations }}</td>
            </tr>
            <tr>
                <td>Movilidad de hombros</td>
                <td>
                    <p><strong class="badge badge-primary text-white">I</strong> {{ fms.shoulder_l_score }}</p>
                    <p><strong class="badge badge-primary text-white">D</strong> {{ fms.shoulder_r_score }}</p>
                </td>
                <td>{{ fms.shoulder_total }}</td>
                <td>{{ fms.shoulder_l_observations }}</td>
            </tr>
            <tr>
                <td>Elevación activa con la pierna recta</td>
                <td>
                    <p><strong class="badge badge-primary text-white">I</strong> {{ fms.leg_raise_l_score }}</p>
                    <p><strong class="badge badge-primary text-white">D</strong> {{ fms.leg_raise_r_score }}</p>
                </td>
                <td>{{ fms.leg_total }}</td>
                <td>{{ fms.leg_raise_observations }}</td>
            </tr>
            <tr>
                <td>Estabilidad de tronco en flexión</td>
                <td>
                    <p><strong class="badge badge-primary text-white">I</strong> {{ fms.trunk_l_score }}</p>
                    <p><strong class="badge badge-primary text-white">D</strong> {{ fms.trunk_r_score }}</p>
                </td>
                <td>{{ fms.trunk_total }}</td>
                <td>{{ fms.trunk_observations }}</td>
            </tr>
            <tr>
                <td>Estabilidad de tronco en rotación</td>
                <td>
                    <p><strong class="badge badge-primary text-white">I</strong> {{ fms.trunk_rot_l_score }}</p>
                    <p><strong class="badge badge-primary text-white">D</strong> {{ fms.trunk_rot_r_score }}</p>
                </td>
                <td>{{ fms.trunk_rot_total }}</td>
                <td>{{ fms.trunk_rot_observations }}</td>
            </tr>
            <tr>
                <td><strong>Total</strong></td>
                <td><p><strong>{{ fms.total }}</strong></p></td>
                <td colspan="2"></td>
            </tr>
        </tbody>
    </table>
</div> 
{% endif %}



{% endblock  %}


